<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Jeu 1 - Memory Lettres & Sons</title>

<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #fffbf0;
    padding: 20px;
    margin: 0;
}
h1 { color: #1a237e; }
#score { font-size: 24px; margin: 20px; color: #1a237e; }

.grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 800px;
    margin: auto;
}

.card {
    width: 100px;
    height: 100px;
    margin: 10px;
    background-color: #5c6bc0;
    color: white;
    border-radius: 10px;
    font-size: 32px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: transform 0.2s, background-color 0.3s;
}

.card.flipped {
    background-color: #7986cb;
    transform: scale(1.1);
}

.card.matched {
    background-color: #27ae60;
    color: white;
    cursor: default;
}
</style>
</head>

<body>

<h1>Memory Lettres & Sons</h1>
<div id="score">Score : 0</div>
<div class="grid" id="grid"></div>

<script>
// ----------------------------------------------
// LISTE LETTRES + SONS
// ----------------------------------------------
const letters = [
    {text:"Ù€ÙÙ€", audio:"sounds/fa_damma.m4a"},
    {text:"Ù€ÙŠÙŽÙ€", audio:"sounds/ya_fatha.m4a"},
    {text:"ÙˆÙŽ", audio:"sounds/wa_fatha.m4a"},
    {text:"Ù‚Ø§", audio:"sounds/qa_alif.m4a"},
    {text:"ÙˆÙŠ", audio:"sounds/wi.m4a"},
    {text:"ØºØ§Ù‹", audio:"sounds/gha_tanouine.m4a"},
    {text:"Ø¶Ùˆ", audio:"sounds/do.m4a"},
    {text:"Ù…ÙÙ†ÙŽ", audio:"sounds/mina.m4a"},
    {text:"Ø´Ø§ÙŠÙÙ", audio:"sounds/shay.m4a"},
    {text:"ÙƒÙŠ", audio:"sounds/ki.m4a"},
];

// ----------------------------------------------
// CRÃ‰ATION DES CARTES (2 par lettre : texte + audio)
// ----------------------------------------------
let cardsArray = [];

letters.forEach(item => {
    cardsArray.push({
        type: 'letter',
        content: item.text,
        pairId: item.text
    });

    cardsArray.push({
        type: 'audio',
        content: item.audio,
        pairId: item.text
    });
});

// MÃ©lange
cardsArray.sort(() => 0.5 - Math.random());

const grid = document.getElementById('grid');
let firstCard = null;
let secondCard = null;
let score = 0;

// ----------------------------------------------
// CRÃ‰ER UNE CARTE
// ----------------------------------------------
function createCard(cardData) {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.pairId = cardData.pairId;
    card.dataset.type = cardData.type;
    card.addEventListener('click', () => flipCard(card, cardData));
    grid.appendChild(card);
}

// ----------------------------------------------
// RETOURNER UNE CARTE
// ----------------------------------------------
function flipCard(card, cardData) {
    if(card.classList.contains('flipped') || card.classList.contains('matched')) return;

    card.classList.add('flipped');

    if(cardData.type === 'letter') {
        card.textContent = cardData.content;
    } 
    else {
        card.textContent = "ðŸ”Š";
        new Audio(cardData.content).play();
    }

    if(!firstCard) {
        firstCard = {card, cardData};
    } else {
        secondCard = {card, cardData};
        checkMatch();
    }
}

// ----------------------------------------------
// VÃ‰RIFIER MATCH
// ----------------------------------------------
function checkMatch() {
    if(
        firstCard.cardData.pairId === secondCard.cardData.pairId &&
        firstCard.cardData.type !== secondCard.cardData.type
    ) {
        firstCard.card.classList.add('matched');
        secondCard.card.classList.add('matched');

        score++;
        document.getElementById('score').textContent = "Score : " + score;

        resetTurn();
    } else {
        setTimeout(() => {
            firstCard.card.classList.remove('flipped');
            secondCard.card.classList.remove('flipped');
            firstCard.card.textContent = "";
            secondCard.card.textContent = "";
            resetTurn();
        }, 800);
    }
}

function resetTurn() {
    firstCard = null;
    secondCard = null;
}

// ----------------------------------------------
// CRÃ‰ER TOUTES LES CARTES
// ----------------------------------------------
cardsArray.forEach(cardData => createCard(cardData));
</script>

</body>
</html>







